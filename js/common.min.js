
$(function() {
    $(".signup .quick_close").on("click", function() {
        $(".signup").hide()
    });
    $(".thank .quick_close").on("click", function() {
        $(".thank").hide()
    });
    $("#btnWelcomeThanks").on("click", function() {
        location.href = SITE_PREFIX + "/catalog/category/new/new"
    });
    $(".icon_menu").on("click", function() {
        $(".c_container, .mobile_overlay, .l_container, .signup_wrapper").addClass("open");
        $("html").addClass("noscroll")
    });
    $(".mobile_overlay").on("click", function() {
        $(".c_container, .mobile_overlay, .l_container,.signup_wrapper").removeClass("open");
        $("html").removeClass("noscroll")
    });
    $(".btn_right_side").on("click", function() {
        $(".r_container, .desktop_overlay").addClass("open");
        $("html").addClass("noscroll")
    });
    $(".r_container .icon_close, .desktop_overlay").on("click", function() {
        $(".r_container, .desktop_overlay").removeClass("open");
        $("#open_specialOffers").removeClass("show").addClass("hide");
        $("#divQuickView").html("");
        $("html").removeClass("noscroll");
        $(".soCouponPopClass").css("display", "none")
    });
    $(".signup_slider .icon_close").on("click", function() {
        $(".signup_slider").css("display", "none")
    });
    $(".m_header .nav_secondary .icon_search").on("click", function() {
        $(".m_search_container").slideToggle()
    });
    $(".m_search_container .icon_close").on("click", function() {
        $(".m_search_container").slideToggle()
    });
    $(".show_desktop .icon_search").click(function() {
        $(".d_search_container").animate({
            width: "toggle"
        })
    });
    $(".d_search_container .icon_close").click(function() {
        $(".d_search_container").animate({
            width: "toggle"
        })
    });
    $(window).scroll(function() {
        $(this).scrollTop() > 400 ? $(".scrollToTop").fadeIn() : $(".scrollToTop").fadeOut("fast")
    });
    $(".scrollToTop").click(function() {
        return $("html, body").animate({
            scrollTop: 0
        }, 900), !1
    });
  
    $(".l_container .mega_menu span").each(function() {
        $(this).off("click");
        $(this).click(function() {
            $(this).parent().toggleClass("active");
            $(this).parent().find(".mega_sub").slideToggle();
        })
    });

    $(".l_container .mega_menu .mega_sub span").each(function() {
        $(this).off("click"), $(this).click(function() {
            $(this).parent().parent().toggleClass("active")
        })
    });
    /*
    $(".mega_sub li span").each(function() {
        $(this).off("click");
        $(this).click(function() {
            $(this).parent().toggleClass("active");
            $(this).parent().find("ul[id*='sub_']").slideToggle();
        })
    });

   $(".mega_sub li span").on('click',function() {
        $(this).parent().addClass("active");
        if($(this).parent().find("ul").length > 0) {
            $(this).parent().find("ul").slideToggle();
           
        }
    });)
    */
    $(".drop_p").each(function() {
        $(this).click(function() {
            $(this).next().hasClass("drop_c") ? $(this).next().toggleClass("open") : $(this).children(".drop_c").toggleClass("open")
        })
    });
    $("div.drop_c.b_gray").each(function() {
        $(this).click(function() {
            $(this).toggleClass("open")
        })
    });
    $(".expand_p").each(function() {
        $(this).off("click");
        $(this).click(function() {
            $(this).toggleClass("active");
            $(this).next().slideToggle()
        })
    });
    $(".input_label").each(function() {
        $(this).click(function() {
            $(this).children("input").focus();
            $(".input_label").each(function() {
                $(this).children("input").val() == "" && ($(this).removeClass("focus"), $(this).find(".icon_delete").hide())
            });
            $(this).addClass("focus")
        });
        $(this).find("input,textarea").focus(function() {
            $(this).parent(".input_label").addClass("focus")
        }).blur(function() {
            $(this).val() == "" && ($(this).parent(".input_label").removeClass("focus"), $(this).parent(".input_label").find(".icon_delete").hide())
        });
        $(this).find("input").keydown(function() {
            $(this).val() == "" ? $(this).parent(".input_label").find(".icon_delete").hide() : $(this).parent(".input_label").find(".icon_delete").show()
        })
    });
    window.onresize = function() {
        window.innerWidth > 767 && ($(".nav_c").show(), $("#left_menu").show(), $("#account_left_menu").attr("style", ""))
    };
    window.innerWidth > 767 && ($(".nav_c").show(), $("#left_menu").show(), $("#account_left_menu").attr("style", ""));
    $(".m_filer").click(function() {
        $(".side_menu").slideToggle();
        $("header").css("z-index", "1");
        $(".side_content").css("position", "fixed !important");
        $("footer").css("position", "fixed !important");
        $("body").css({
            position: "fixed",
            "overflow-y": "hidden"
        })
    });
    $(".icon_delete").click(function() {
        $(this).parent(".input_label").find("input").each(function() {
            $(this).val("");
            $(this).valid()
        })
    });
    window.innerWidth >= 768 ? $(".tab_m > div").click(function() {
        var n = $(this).parent().parent(),
            t = n.find(".tab_m > div"),
            i;
        t.removeClass("active");
        $(this).addClass("active");
        i = t.index(this);
        n.find(".tab_c > div").addClass("hide");
        n.find(".tab_c > div:eq(" + i + ")").css("display", "none").removeClass("hide").fadeIn(500)
    }) : $(".tab_m > div").mouseenter(function() {
        var n = $(this).parent().parent(),
            t = n.find(".tab_m > div"),
            i;
        t.removeClass("active");
        $(this).addClass("active");
        i = t.index(this);
        n.find(".tab_c > div").addClass("hide");
        n.find(".tab_c > div:eq(" + i + ")").css("display", "none").removeClass("hide").fadeIn(500)
    });
    $(window).scroll(function() {
        $(this).scrollTop() > 10 ? ($("header").addClass("header_fixed"), $("main,footer").addClass("main_fixed")) : ($("header").removeClass("header_fixed"), $("main,footer").removeClass("main_fixed"))
    })
});